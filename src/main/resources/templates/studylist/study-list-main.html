<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <div th:replace="fragments/html-head.html :: fragment-html-head"></div>
</head>
<body style="margin: 0; overflow-x:hidden; background-color: #f7fafc">
<div th:replace="fragments/header.html :: fragment-header"></div>
<div class="container">
    <div class="pt-5">
        <h4 class="mb-2">🔎 원하는 스터디 그룹을 찾아보세요!</h4>
        <br>
        <div class="card mb-2 shadow-sm" style="border-radius: 10px;">
            <div class="card-body p-2 mt-1">
                <div class="row mb-2">
                    <div class="col-2 text-center">
                        <label class="col-form-label">
                            <h5 class="mb-0">카테고리</h5>
                        </label>
                    </div>
                    <div class="col-10">
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="언어" style="border-radius: 20px">언어</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="프로젝트" style="border-radius: 20px">프로젝트</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="면접" style="border-radius: 20px">면접</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="알고리즘" style="border-radius: 20px">알고리즘</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="프론트엔드" style="border-radius: 20px">프론트엔드</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="백엔드" style="border-radius: 20px">백엔드</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="웹" style="border-radius: 20px">웹</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="앱" style="border-radius: 20px">앱</button> &nbsp;
                        &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="CS" style="border-radius: 20px">CS</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="기타" style="border-radius: 20px">기타</button>
                        &nbsp; &nbsp;
                    </div>
                    <br><br>
                    <div class="col-2 text-center">
                        <label class="col-form-label">
                            <h5 class="mb-0">언어</h5>
                        </label>
                    </div>
                    <div class="col-10">
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="Java" style="border-radius: 20px">Java</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="Python" style="border-radius: 20px">Python
                        </button> &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="C" style="border-radius: 20px">C</button> &nbsp;
                        &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="C%2B%2B" style="border-radius: 20px">C++</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="Swift" style="border-radius: 20px">Swift</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="JavaScript" style="border-radius: 20px">
                            JavaScript
                        </button> &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="Ruby" style="border-radius: 20px">Ruby</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="HTML" style="border-radius: 20px">HTML</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="Go" style="border-radius: 20px">Go</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="React" style="border-radius: 20px">React</button>
                        &nbsp; &nbsp;
                        <button class="bb btn btn-outline-dark categoryAndLanguage" value="PHP" style="border-radius: 20px">PHP</button>
                        &nbsp; &nbsp;
                    </div>
                    <br><br><br>
                    <div class="col-2 text-center">
                        <label class="col-form-label">
                            <h5 class="mb-0">검색어</h5>
                        </label>
                    </div>
                    <div class="input-group col-10">
                        <div class="col-8 offset-1">
                            <input type="text" id="searchWord" class="form-control" placeholder="검색어를 입력하세요"
                                   style="border-radius: 15px">
                        </div>
                        <div class="input-group-append">
                            <button class="getStudyListByStudyNameAndDescBtn btn btn-primary"
                                    style="border-radius: 15px; margin-right: 20px;" type="button">검색
                            </button>
                            <button id="resetBtn" class="btn btn-primary"
                                    style="border-radius: 15px" type="button">초기화
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <br><br><br>
    </div>
    <div id="cardList">
        <div th:replace="fragments/getallstudylist.html :: fragment-getallstudylist" id="getallstudylist"></div>
    </div>

    <div th:if="${studyList.size() != 0}">
        <div th:replace="fragments/study-list-paging.html :: fragment-study-list-paging"></div>
    </div>
    <div th:unless="${studyList.size() != 0}">
        <div class="card" style="margin-bottom: 10px;">
            <div class="card-body" style="text-align: center">
                <div style="margin-top: 10px; font-size: 16px; margin-right: 2px;">
                    <div style="font-family: 'BMHANNAPro'; font-size: 20px;">
                        <span>'</span>
                        <b><span th:if="${category} != 'NULL' and ${search} == 'NULL'" th:text="${param.category}"></span></b>
                        <b><span th:if="${category} == 'NULL' and ${search} != 'NULL'" th:text="${param.search}"></span></b>
                        <span>'</span>
                        <span style="color: royalblue">에 대한 검색 결과가 없습니다.</span>
                    </div>
                </div>
            </div>
        </div>
    </div>


</div>
<div th:replace="fragments/footer.html :: fragment-footer"></div>
<script th:inline="javascript" type="text/javascript">
    $(function () {

        $(".bb").click(function () {
            let category = $(this).val();
            location.href = "/study/list?category=" + category;
        });

        $(".getStudyListByStudyNameAndDescBtn").click(function () {
            let search = $("#searchWord").val();
            location.href = "/study/list?search=" + search;
        });

        $("#resetBtn").click(function() {
            location.href = "/study/list";
        });


        // 카테고리, 언어 버튼 검정색 유지
        let cl = /*[[${param.category}]]*/;

        let clBtnList = document.getElementsByClassName('categoryAndLanguage');

        for(let i=0; i< clBtnList.length; i++) {
            let text = clBtnList.item(i).innerText;

            if(text == cl) {
                clBtnList.item(i).style.background = '#343a40';
                clBtnList.item(i).style.color = 'white';
            }
        }
    });
</script>
</body>
</html>


